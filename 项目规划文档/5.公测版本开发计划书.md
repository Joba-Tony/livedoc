# CYZC Unity 客户端 公测版本开发计划书

> **版本**: v4.0  
> **日期**: 2025年12月31日  
> **团队配置**: 2程序 + 1美术 + 1测试  
> **重要修正**: 包含协议梳理、架构设计、联调测试等隐藏成本

---

## 一、实际进度评估

### 1.1 已完成工作内容

| 模块 | 工作内容 | 实际投入 |
|------|----------|----------|
| 热更新框架 | HybridCLR + YooAsset搭建 | ~40h |
| 网络通信层 | XSocket协议分析与实现 | ~50h |
| 登录/注册 | 完整流程 | ~20h |
| 角色管理 | 创建/选择/删除 | ~25h |
| 地图系统 | PAK解析、Tilemap渲染 | ~40h |
| 移动系统 | A*寻路、8方向移动 | ~25h |
| NPC/怪物渲染 | 显示、移动 | ~20h |
| 聊天系统 | 多频道完整 | ~20h |
| **合计** | | **~240h** |

---

## 二、版本路线图（修正版）

### 2.1 整体规划

```
当前状态 ──▶ MVP版本 ──▶ 公测版本 ──▶ 完整版本
   40%        基础可玩      社交完整      全部功能
            (+25天)       (+50天)       (+55天)
```

### 2.2 团队配置

| 角色 | 人数 | 职责 |
|------|------|------|
| **程序1** | 1人 | 系统架构、核心逻辑、协议分析 |
| **程序2** | 1人 | 功能实现、UI逻辑、联调测试 |
| **美术** | 1人 | UI制作、图标资源、特效支持 |
| **测试** | 1人 | 功能测试、Bug提交、验收测试 |

### 2.3 工时计算

| 版本 | 纯编码工时 | 隐藏成本系数 | 实际工时 | 工期(2程序) |
|------|-----------|-------------|----------|-------------|
| **已完成** | ~120h | ×2.0 | 240h | 15天（已过） |
| **MVP增量** | 109h | ×1.8 | 196h | **25天** |
| **公测增量** | 460h | ×1.5 | 690h | **50天** |
| **完整增量** | 574h | ×1.4 | 804h | **55天** |
| **总计** | 1263h | - | **1930h** | **130天** |

**系数说明**：
- 基础架构阶段（已完成）：×2.0（大量协议分析、框架搭建）
- MVP阶段：×1.8（新协议多，需要大量抓包分析）
- 公测阶段：×1.5（有经验积累，复用架构）
- 完整阶段：×1.4（大部分协议已熟悉）

---

## 三、MVP阶段详细计划（25天）

### 3.1 MVP功能工时分解

| 功能模块 | 纯编码 | 协议梳理 | 架构设计 | 联调测试 | 实际工时 |
|----------|--------|----------|----------|----------|----------|
| NPC交互系统 | 16h | 6h | 4h | 6h | **32h** |
| 背包UI系统 | 30h | 10h | 6h | 10h | **56h** |
| 装备UI系统 | 17h | 6h | 4h | 6h | **33h** |
| 商店系统 | 18h | 8h | 4h | 6h | **36h** |
| 战斗效果完善 | 28h | 6h | 6h | 10h | **50h** |
| **MVP合计** | **109h** | **36h** | **24h** | **38h** | **207h** |

### 3.2 MVP时间规划

| 阶段 | 内容 | 工期 | 累计 | 负责人 |
|------|------|------|------|--------|
| **Week 1** | NPC交互 + 协议分析 | 5天 | 5天 | 程序1+2 |
| **Week 2** | 背包系统完整 | 5天 | 10天 | 程序1+2 |
| **Week 3** | 装备+商店系统 | 5天 | 15天 | 程序1+2 |
| **Week 4** | 战斗效果完善 | 4天 | 19天 | 程序1+2 |
| **Week 5** | 测试+修复+缓冲 | 6天 | **25天** | 全员 |

### 3.3 详细任务分解

#### Week 1: NPC交互系统 (Day 1-5)

| 任务 | 工时 | 负责人 | 说明 |
|------|------|--------|------|
| NPC交互协议抓包分析 | 4h | 程序1 | 分析DEF_COMMONTYPE_TALKTONPC |
| NPCInteractionManager | 6h | 程序1 | 交互管理器 |
| NPC功能路由 | 4h | 程序2 | 根据类型打开不同面板 |
| 对话UI布局设计 | 4h | 美术 | NPCDialogPanel.prefab |
| 对话面板控制器 | 4h | 程序2 | NPCDialogPanel.cs |
| 对话选项系统 | 4h | 程序1 | 多选项分支 |
| NPC头顶名称完善 | 2h | 程序2 | 名称显示 |
| 对话网络消息 | 4h | 程序1 | 服务端通信 |
| 联调测试 | 6h | 程序1+2 | 与服务端对接 |

**里程碑M1**: Day 5 - NPC可点击交互

#### Week 2: 背包系统 (Day 6-10)

| 任务 | 工时 | 负责人 | 说明 |
|------|------|--------|------|
| 物品协议分析 | 6h | 程序1 | 背包/物品相关协议 |
| 背包数据结构设计 | 4h | 程序1 | ItemData, BagData |
| 背包UI布局(48格) | 4h | 美术 | BagPanel.prefab |
| 背包格子组件 | 4h | 程序2 | BagSlot.cs |
| 物品图标加载 | 3h | 程序2 | 图标显示 |
| 背包管理器 | 4h | 程序1 | BagManager.cs |
| 物品拖拽系统 | 4h | 程序2 | ItemDraggable.cs |
| 物品使用协议对接 | 6h | 程序1 | DEF_COMMONTYPE_USEITEM |
| 物品丢弃功能 | 3h | 程序2 | 丢弃确认 |
| 物品Tooltip | 6h | 程序2 | ItemTooltip.cs |
| 背包网络同步 | 4h | 程序1 | 服务端数据同步 |
| 联调测试 | 8h | 程序1+2 | 物品操作测试 |

**里程碑M2**: Day 10 - 背包系统可用

#### Week 3: 装备+商店系统 (Day 11-15)

| 任务 | 工时 | 负责人 | 说明 |
|------|------|--------|------|
| 装备协议分析 | 4h | 程序1 | 穿戴/卸下协议 |
| 装备栏UI(13槽位) | 4h | 美术 | EquipmentPanel.prefab |
| 装备栏控制器 | 4h | 程序1 | EquipmentPanel.cs |
| 装备穿戴逻辑 | 4h | 程序2 | 拖拽/双击穿戴 |
| 装备卸下逻辑 | 3h | 程序2 | 卸下到背包 |
| 装备属性显示 | 4h | 程序1 | 装备Tooltip |
| 商店协议分析 | 4h | 程序1 | 购买/出售协议 |
| 商店UI布局 | 4h | 美术 | ShopPanel.prefab |
| 商店控制器 | 4h | 程序2 | ShopPanel.cs |
| 购买/出售功能 | 8h | 程序1+2 | 完整交易流程 |
| 联调测试 | 8h | 程序1+2 | 装备+商店测试 |

**里程碑M3**: Day 15 - 装备商店可用

#### Week 4: 战斗效果完善 (Day 16-19)

| 任务 | 工时 | 负责人 | 说明 |
|------|------|--------|------|
| 战斗协议梳理 | 4h | 程序1 | 魔法/伤害消息 |
| MagicExecutor完善 | 8h | 程序1 | 实际效果代码 |
| 伤害数字显示 | 4h | 程序2 | 飘字效果 |
| Buff/Debuff显示 | 4h | 程序1 | 状态图标 |
| 怪物血条显示 | 4h | 程序2 | 头顶血条 |
| 死亡处理 | 4h | 程序1 | 角色死亡逻辑 |
| 复活机制 | 4h | 程序2 | 复活点/复活UI |
| 战斗特效 | 4h | 美术 | 基础特效 |
| 联调测试 | 8h | 程序1+2 | 战斗流程测试 |

**里程碑M4**: Day 19 - 战斗完善

#### Week 5: 测试与修复 (Day 20-25)

| 任务 | 工时 | 负责人 |
|------|------|--------|
| 功能全面测试 | 16h | 测试 |
| P0 Bug修复 | 16h | 程序1+2 |
| 热更新验证 | 8h | 程序1 |
| UI调整优化 | 8h | 美术 |
| 风险缓冲 | - | 全员 |

**里程碑M5**: Day 25 - **MVP交付**

---

## 四、公测阶段详细计划（50天）

### 4.1 公测功能工时分解

| 功能模块 | 纯编码 | 协议+联调 | 实际工时 |
|----------|--------|-----------|----------|
| 组队系统 | 34h | 17h | 51h |
| 好友系统 | 21h | 10h | 31h |
| 任务系统 | 44h | 22h | 66h |
| 公会系统 | 75h | 38h | 113h |
| 交易系统 | 27h | 13h | 40h |
| 个人商店 | 31h | 15h | 46h |
| 物品强化 | 27h | 13h | 40h |
| 宝石系统 | 28h | 14h | 42h |
| 物品合成 | 22h | 11h | 33h |
| 物品制造 | 17h | 8h | 25h |
| 物品修理 | 14h | 7h | 21h |
| 小地图 | 25h | 12h | 37h |
| 排行榜 | 26h | 13h | 39h |
| 魔法系统完善 | 40h | 20h | 60h |
| 仓库系统 | 28h | 14h | 42h |
| **公测合计** | **459h** | **227h** | **686h** |

### 4.2 公测时间规划

| 阶段 | 内容 | 工期 | 累计 |
|------|------|------|------|
| **Phase 1** | 社交基础（组队/好友） | 6天 | 6天 |
| **Phase 2** | 任务系统 | 5天 | 11天 |
| **Phase 3** | 公会系统 | 8天 | 19天 |
| **Phase 4** | 交易/摆摊 | 6天 | 25天 |
| **Phase 5** | 物品进阶（强化/宝石/合成） | 8天 | 33天 |
| **Phase 6** | 仓库/小地图/排行 | 8天 | 41天 |
| **Phase 7** | 魔法完善 | 4天 | 45天 |
| **Phase 8** | 测试/修复/缓冲 | 5天 | **50天** |

### 4.3 里程碑

| 里程碑 | 时间(MVP后) | 验收标准 |
|--------|-------------|----------|
| M1 | Day 6 | 组队/好友可用 |
| M2 | Day 11 | 任务系统完整 |
| M3 | Day 19 | 公会功能完整 |
| M4 | Day 25 | 交易/摆摊可用 |
| M5 | Day 33 | 强化/宝石/合成可用 |
| M6 | Day 41 | 仓库/小地图/排行可用 |
| M7 | Day 50 | **公测版本交付** |

---

## 五、完整版阶段计划（55天）

### 5.1 完整版功能（574h纯编码，实际~804h）

| 功能 | 实际工时 | 说明 |
|------|----------|------|
| 天使系统 | 52h | 召唤/技能/喂养 |
| 宠物系统 | 42h | 召唤/跟随/战斗 |
| 国战系统 | 73h | 攻城/建造/旗帜 |
| 3C战场 | 48h | 阵营对抗 |
| 竞技场 | 31h | PK匹配/下注 |
| 生活技能 | 31h | 钓鱼/采矿/种植 |
| 拍卖系统 | 28h | 物品竞价 |
| 特殊交易 | 28h | 黑点/贡献值 |
| 其他系统 | 153h | 新手引导/音效等 |
| 魔法完善 | 39h | 完整23种魔法 |
| **总计** | **~804h** | |

### 5.2 完整版时间规划

| 阶段 | 内容 | 工期 |
|------|------|------|
| Phase 1 | 天使/宠物系统 | 8天 |
| Phase 2 | 国战/战场 | 10天 |
| Phase 3 | 竞技场/拍卖 | 5天 |
| Phase 4 | 生活技能 | 4天 |
| Phase 5 | 其他系统 | 12天 |
| Phase 6 | 全面测试/优化 | 8天 |
| 缓冲 | 风险预留 | 8天 |
| **总计** | | **55天** |

---

## 六、总览与时间线

### 6.1 总工期汇总

| 阶段 | 纯编码 | 实际工时 | 工期 | 累计 |
|------|--------|----------|------|------|
| **已完成** | ~120h | ~240h | 15天 | 15天 |
| **MVP增量** | 109h | ~207h | 25天 | **40天** |
| **公测增量** | 459h | ~686h | 50天 | **90天** |
| **完整增量** | 574h | ~804h | 55天 | **145天** |

### 6.2 时间线

```
2025年                    2026年
  1月       2月       3月       4月       5月       6月       7月
  ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
  │◀─已完成─▶│◀──── MVP ────▶│◀───────── 公测版本 ─────────▶│◀─ 完整版本 ──
  │  15天   │     25天       │           50天              │    55天
  │         │                │                             │
  │         ▼                ▼                             ▼
  │      Day 40           Day 90                        Day 145
  │      MVP交付          公测上线                      完整版上线
```

### 6.3 关键里程碑

| 里程碑 | 预计日期 | 交付物 |
|--------|----------|--------|
| **MVP交付** | Day 40 (~2月中旬) | 基础可玩版本 |
| **公测上线** | Day 90 (~4月中旬) | 社交+经济完整 |
| **完整版上线** | Day 145 (~6月下旬) | 全部功能 |

---

## 七、风险管理

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 协议不兼容 | 高 | 延期5-10天 | 提前抓包验证 |
| 公会系统复杂 | 高 | 延期5天 | 分阶段实现 |
| 国战联调困难 | 高 | 延期7天 | 预留更多时间 |
| 热更新问题 | 中 | 延期3天 | 持续验证 |
| 性能问题 | 中 | 延期5天 | 提前监控 |

---

## 八、总结

| 项目 | 内容 |
|------|------|
| **团队配置** | 2程序 + 1美术 + 1测试 |
| **当前进度** | 40%（已投入15天） |
| **MVP交付** | 第40天（还需25天） |
| **公测交付** | 第90天（MVP后50天） |
| **完整版交付** | 第145天（公测后55天） |
| **剩余总工期** | **130个工作日（约6.5个月）** |


