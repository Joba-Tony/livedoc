# NPC 列表

## 重要提示

**您要找的魔法师NPC是:**
- **Gandlf** (甘道夫) - 类型19 - 魔法师，教授魔法技能
- **Devlin** (德夫林) - 类型69 - 魔法师，教授魔法技能

**关于生活技能学习:**
> ?? 生活技能（钓鱼、制造、农耕、采矿等）**不是通过NPC教授**的！
> 
> 这些技能通过以下方式提升：
> - **钓鱼**: 使用鱼竿在水边钓鱼
> - **制造**: 使用工作台和材料制作物品（需要从铁匠 **Tom** 处购买制造手册）
> - **农耕**: 在农田区域使用锄头耕作
> - **采矿**: 在矿区使用镐子采矿

---

## 专业技能系统

> ?? **重要**: 专业技能**只能学习一种**，不能同时学习多种！可以忘却后学习其他专业技能。

### 专业技能列表

| 技能类型 | 技能名称 | 等级 | 学习NPC | 学习位置 | 学习条件 |
|----------|----------|------|---------|----------|----------|
| **宝石工艺** | 宝石加工 | - | McGaffin（远古工匠大师） | 时之地图 或 使用`宝石升级技能书`(ItemID:233) | 5个水晶石 |
| **宝石工艺** | 宝石镶嵌 | - | McGaffin（远古工匠大师） | 时之地图 或 使用`宝石镶嵌技能书`(ItemID:232) | 5个水晶石 |
| **合成工艺** | 初级合成（绿色钥匙） | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **合成工艺** | 中级合成（蓝色钥匙） | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **合成工艺** | 高级合成（金色钥匙） | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **附魔工艺** | 初级附魔武器伤害 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **附魔工艺** | 中级附魔武器伤害 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **附魔工艺** | 高级附魔武器伤害 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **附魔工艺** | 初级附魔武器命中 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **附魔工艺** | 中级附魔武器命中 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **附魔工艺** | 高级附魔武器命中 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **炼金工艺** | 初级炼金冷却 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **炼金工艺** | 中级炼金冷却 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **炼金工艺** | 高级炼金冷却 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **炼金工艺** | 初级炼金急速 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **炼金工艺** | 中级炼金急速 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **炼金工艺** | 高级炼金急速 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **炼金工艺** | 初级炼金狂暴 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **炼金工艺** | 中级炼金狂暴 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **炼金工艺** | 高级炼金狂暴 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **制作工艺** | 初级制作强化 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **制作工艺** | 中级制作强化 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **制作工艺** | 高级制作强化 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |
| **制作工艺** | 初级制作物防 | 1 | McGaffin（远古工匠大师） | 时之地图 | 尊敬声望 + 上古印记 |
| **制作工艺** | 中级制作物防 | 2 | McGaffin（远古工匠大师） | 时之地图 | 崇敬声望 + 上古印记 |
| **制作工艺** | 高级制作物防 | 3 | McGaffin（远古工匠大师） | 时之地图 | 崇拜声望 + 上古印记 |

### 专业技能内部编号
根据源码 [HGServer/Client.h#L313-L325](HGServer/Client.h#L313-L325)：
```
技能类型编码 (aaaa):
- 0x01: 合成工艺 (11-13)
- 0x02: 附魔攻击工艺 (21-23)
- 0x03: 附魔命中工艺 (31-33)
- 0x04: 炼金冷却工艺 (41-43)
- 0x05: 炼金急速工艺 (51-53)
- 0x06: 炼金狂暴工艺 (61-63)
- 0x07: 制作强化工艺 (71-73)
- 0x08: 制作物防工艺 (81-83)
- 0x09: 宝石加工
- 0x0a: 宝石镶嵌
```

### 学习说明
1. **宝石工艺** - 可通过技能书或时之地图NPC学习，费用5个水晶石
   - ? **宝石镶嵌技能书** (ItemID: 232) - 使用后提高宝石镶嵌技能
   - ? **宝石升级技能书** (ItemID: 233) - 使用后提高宝石升级（加工）技能
2. **远古工艺**（合成/附魔/炼金/制作）- 必须在**时之地图**找 **McGaffin**（远古工匠大师）学习，**无技能书**
3. 学习远古工艺需要：
   - **上古印记** - 学习材料
   - **声望等级** - 初级需尊敬，中级需崇敬，高级需崇拜
4. 忘却专业技能需要花费**水晶石**

### 学习条件获取方式

#### ? 上古印记 (ItemID: 123)
上古印记是学习远古工艺和兑换钥匙的必备材料，获取方式：
| 获取途径 | 所需材料/条件 | 说明 |
|---------|--------------|------|
| **贡献度兑换** | 320贡献度 | 在时之地图McGaffin处兑换1个印记 |
| **黑点兑换** | 100黑点 | 在时之地图McGaffin处兑换1个印记 |
| **击杀怪物掉落** | 时之地图怪物 | 有几率掉落上古印记 |

> **GM快速获取**: `/createitem 上古印记 0` (需GM等级9)

#### ? 声望等级
声望用于解锁远古工艺学习权限，声望等级定义（源码 [HGClient/UiConfig.h#L14-L17](HGClient/UiConfig.h#L14-L17)）：
| 声望等级 | 所需声望值 | 可学习技能 |
|---------|-----------|-----------|
| 友善 | 2,000 | - |
| **尊敬** | 8,000 | 初级合成/附魔/炼金/制作 |
| **崇敬** | 20,000 | 中级合成/附魔/炼金/制作 |
| **崇拜** | 41,000 | 高级合成/附魔/炼金/制作 |

**声望获取方式**：
| 获取途径 | 说明 |
|---------|------|
| **暗之碎片兑换** | 10个暗之碎片(ItemID:180)兑换10点声望 |
| **击杀时之怪物** | 在时之地图击杀怪物获取声望 |

> **GM快速获取**: 目前代码中**没有直接设置声望的GM命令**。可通过以下方式：
> 1. 直接修改角色存档文件中的 `TimeGuardPrestige` 值
> 2. 使用 `/createitem 暗之碎片 0` 创建碎片后兑换
> 3. 建议开发一个 `/setprestige` GM命令（见下方示例）

#### ? 其他相关物品GM命令
```
/createitem 上古印记 0       # 创建1个上古印记
/createitem 暗之碎片 0       # 创建1个暗之碎片(兑换声望用)
/createitem 水晶石 0         # 创建1个水晶石(学习宝石技能用)
/createitem 宝石镶嵌技能书 10 # 创建技能书(参数为技能点数)
/createitem 宝石升级技能书 10 # 创建技能书(参数为技能点数)
/createitem 绿色钥匙 0       # 创建绿色钥匙
/createitem 蓝色钥匙 0       # 创建蓝色钥匙
/createitem 金色钥匙 0       # 创建金色钥匙
```

> ?? **注意**: GM命令需要**GM等级9**且已启用管理员命令(`/enableadmincommand`)才能使用

## 怎么查找NPC

如果您知道NPC的功能但不知道名字，可以参考下面的功能分类：
- **学习魔法**: Gandlf, Devlin
- **购买物品**: ShopKeeper-W, McGaffin, Perry
- **存储物品**: Howard
- **修理/强化装备**: Tom（也出售制造手册）
- **城市管理/传送**: William
- **公会管理**: Kennedy
- **国战相关**: Gail (国防部长)

---

## 国家归属说明

### ? 阿雷斯登 (Aresden) 专属地图
- `aresden` - 阿国主城
- `aresdenx` - 阿国时之地图
- `cityhall_1` - 阿国市政厅
- `bsmith_1` - 阿国铁匠铺
- `wrhus_1` - 阿国仓库
- `ghall_1` - 阿国公会大厅

### ? 埃尔文 (Elvine) 专属地图
- `elvine` - 爱芬主城
- `elvinex` - 爱芬时之地图
- `cityhall_2` - 爱芬市政厅
- `bsmith_2` - 爱芬铁匠铺
- `wrhus_2` - 爱芬仓库
- `ghall_2` - 爱芬公会大厅

> ? **注意**: 服务类NPC（Tom、Howard、William、Kennedy等）在两国各有一个，功能相同但位于不同地图。玩家只能使用自己国家的NPC服务。

---

## 服务类 NPC

### 魔法师 (教授魔法技能)
| NPC名称 | 中文名 | 类型ID | 职责说明 | 国家归属 |
|---------|--------|--------|----------|----------|
| **Gandlf** | 甘道夫 | 19 | ?魔法导师，教授魔法技能 | 通用 |
| **Devlin** | 德夫林 | 69 | ?魔法导师，教授魔法技能（新手村引导） | 通用 |

### 商人 (出售物品)
| NPC名称 | 中文名 | 类型ID | 职责说明 | 国家归属 |
|---------|--------|--------|----------|----------|
| **ShopKeeper-W** | 道具店老板 | 15 | 出售/收购普通物品 | 通用 |
| **McGaffin** | 麦加芬 | 67 | 新手村年轻人/商人；时之地图中为"远古工匠大师" | 通用 |
| **Perry** | 佩里 | 68 | 新手村少女/商人 | 通用 |
| Bagman | 活动推广员 | 99 | 活动相关商人 | 中立 |
| Saleman | 西域商贩 | 121 | 特殊交易商人 | 中立 |
| Santaman | 圣诞老人 | 122 | 圣诞活动商人 | 中立 |

### 服务NPC
| NPC名称 | 中文名 | 类型ID | 职责说明 | 所在地图 |
|---------|--------|--------|----------|----------|
| **Tom** | 铁匠 | 24 | 修理装备、强化装备、出售制造手册 | bsmith_1(?阿国)、bsmith_2(?爱芬) |
| **Howard** | 仓库主人 | 20 | 存储物品、取出物品 | wrhus_1(?阿国)、wrhus_2(?爱芬) |
| **William** | 市政管理员 | 25 | 加入国家、传送服务、市政任务 | cityhall_1(?阿国)、cityhall_2(?爱芬) |
| **Kennedy** | 公会大厅管理员 | 26 | 公会创建、公会管理 | ghall_1(?阿国)、ghall_2(?爱芬) |
| **Gail** | 国防部长 | 90 | 国战相关、战争卷轴兑换 | 各国主城 |

### 守卫 (城市防御)
| NPC名称 | 中文名 | 类型ID | 职责说明 | 国家归属 |
|---------|--------|--------|----------|----------|
| Guard-Aresden | 阿雷斯登守卫 | 21 | 城市守卫，保护玩家 | ? 阿国 |
| Guard-Elvine | 埃尔文守卫 | 21 | 城市守卫，保护玩家 | ? 爱芬 |
| Guard-Neutral | 中立守卫 | 21 | 中立区域守卫 | 中立 |
| DoorGuard | 门卫/竞技场守卫 | 100 | 竞技场入口守卫 | 中立 |

---

## 怪物类 NPC

### 普通怪物
| NPC名称 | 中文名 | 类型ID | 说明 |
|---------|--------|--------|------|
| Slime | 史莱姆 | 10 | 新手怪物 |
| Rabbit | 兔子 | 55 | 小动物 |
| Cat | 猫 | 56 | 小动物 |
| Giant-Ant | 巨蚁 | 16 | 虫类怪物 |
| Amphis | 双头蛇 | 22 | 两栖生物 |
| Orc-Mage | 兽人法师 | 14 | 施法怪物 |
| Orc | 半兽人 | 14 | 普通兽人 |
| Dummy | 假人 | 34 | 训练假人 |
| Zombie | 僵尸 | 18 | 不死生物 |
| Scorpion | 毒蝎 | 17 | 毒性怪物 |
| Skeleton | 骷髅战士 | 11 | 不死生物 |
| Clay-Golem | 泥巨人 | 23 | 石人 |
| Stone-Golem | 石巨人 | 12 | 石人 |
| Hellbound | 地狱犬 | 27 | 恶魔犬 |
| Giant-Frog | 巨蛙 | 57 | 巨型生物 |
| Rudolph | 迷失驯鹿 | 61 | 节日怪物 |
| Troll | 山洞巨人 | 28 | 大型怪物 |
| Cyclops | 独眼巨人 | 13 | 巨人 |
| Ice-Golem | 冰巨人 | 65 | 冰系石人 |
| Beholder | 旁观者 | 53 | 魔法生物 |
| Cannibal-Plant | 食人植物 | 60 | 植物怪 |
| Orge | 食人魔 | 29 | 大型怪物 |
| Mountain-Giant | 山丘巨人 | 58 | 巨人 |
| DireBoar | 红毛野猪 | 62 | 野兽 |
| Tentocle | 坦特克 | 80 | 章鱼类 |
| Giant-Crayfish | 巨型鱼人 | 74 | 甲壳类 |
| Giant-Plant | 邪恶树妖 | 76 | 植物怪 |
| Liche | 苔怪 | 30 | 强力不死生物 |
| Stalker | 史塔克 | 48 | 隐身怪 |
| WereWolf | 狼人 | 33 | 变形生物 |
| Dark-Elf | 暗夜精灵 | 54 | 精灵族 |
| Frost | 冰雪女妖 | 63 | 冰系怪物 |
| Claw-Turtle | 利爪龟 | 72 | 龟类 |
| Barlog | 巴洛克 | 70 | 火焰恶魔 |
| Ettin | 双头巨人 | 59 | 双头怪 |
| Demon | 魔鬼 | 31 | 强力恶魔 |
| Unicorn | 独角兽 | 32 | 神圣生物（可作宠物） |
| Gagoyle | 石像鬼 | 52 | 飞行石怪 |
| Centaurus | 半人马 | 71 | 半人马 |
| Giant-Lizard | 巨型蜥蜴人 | 75 | 爬行类 |
| MasterMage-Orc | 半兽人首领 | 77 | 施法怪物 |
| Minotaurs | 牛头人 | 78 | 牛头怪 |
| Nizie | 鱼人战士 | 79 | 鱼人 |
| Hellclaw | 地狱爪 | 49 | 强力恶魔 |
| Tigerworm | 虎纹虫 | 50 | 虫类 |
| Wyvern | 冰龙 | 66 | 龙族 |
| Fire-Wyvern | 火龙 | 73 | 火龙 |
| Abaddon | 阿巴丹 | 81 | 顶级恶魔 |
| RedUnicorn | 红色独角兽 | 92 | 神圣生物 |
| TimeHunter | 上古猎手 | 98 | 时之地图特殊怪物 |

### BOSS级怪物
| NPC名称 | 中文名 | 类型ID | 说明 |
|---------|--------|--------|------|
| Susark1 | 苏萨克1 | 93 | BOSS |
| Susark2 | 苏萨克2 | 94 | BOSS |
| DeathKeeper | 死亡守卫 | 95 | 不死生物 |
| DeathOrc | 死亡兽人 | 96 | 不死兽人 |
| GreenWyvern | 绿龙/时光守护者 | 97 | ??不可攻击，特殊事件NPC |
| DarkQueen | 黑暗女王 | 105 | 超级BOSS |
| DarkLord | 黑暗领主 | 106 | 超级BOSS |
| DarkKing | 黑暗之王 | 107 | 超级BOSS |
| HugeFrog | 巨型蛙 | 131 | BOSS |

### 特殊怪物
| NPC名称 | 中文名 | 类型ID | 说明 |
|---------|--------|--------|------|
| Crops | 农作物 | 64 | 可采集作物 |
| Energy-Sphere | 能量球 | 35 | 特殊单位 |
| gate-a | 传送门A | 91 | 阿国传送门 |
| gate-e | 传送门E | 91 | 爱芬传送门 |
| FlareBeast | 火焰兽 | 108 | 特殊怪物 |
| WhitePig | 白猪 | 109 | 动物 |
| WhiteWolf | 白狼 | 117 | 野兽 |
| WaterCow | 水牛 | 111 | 动物 |
| Bat | 蝙蝠 | 112 | 飞行生物 |
| Beetle | 甲虫 | 113 | 昆虫 |
| Cock | 公鸡 | 114 | 动物 |
| Tiger | 老虎 | 115 | 野兽 |
| Fox | 狐狸 | 116 | 野兽 |
| Plants | 植物 | 120 | 植物 |
| ChrDeer | 鹿 | 130 | 动物 |

---

## 战斗单位 (战争系统)

### 阿雷斯登军队
- AGT-Aresden (阿雷斯登轻型守卫塔) - 类型36 - 防御塔
- CGT-Aresden (阿雷斯登重型守卫塔) - 类型37 - 防御塔
- MS-Aresden (阿雷斯登魔法商店) - 类型38 - 建筑
- DT-Aresden (阿雷斯登防御塔) - 类型39 - 防御塔
- ESG-Aresden (阿雷斯登能量球生成器) - 类型40 - 建筑
- GMG-Aresden (阿雷斯登魔法生成器) - 类型41 - 建筑
- LWB-Aresden (阿雷斯登轻武器锻造) - 类型43 - 建筑
- CP-Aresden (阿雷斯登指挥所) - 类型51 - 指挥建筑
- Sor-Aresden (阿雷斯登法师) - 类型82 - 法师单位
- ATK-Aresden (阿雷斯登攻击单位) - 类型83 - 战斗单位
- Elf-Aresden (阿雷斯登精灵) - 类型84 - 精灵单位
- DSK-Aresden (阿雷斯登-DSK) - 类型85
- HBT-Aresden (阿雷斯登-HBT) - 类型86
- CT-Aresden (阿雷斯登-CT) - 类型87
- Bar-Aresden (阿雷斯登-Bar) - 类型88
- AGC-Aresden (阿雷斯登-AGC) - 类型89
- XB-Aresden (阿雷斯登-XB) - 类型1
- XW-Aresden (阿雷斯登-XW) - 类型2
- XY-Aresden (阿雷斯登-XY) - 类型3
- YB-Aresden (阿雷斯登-YB) - 类型4
- YW-Aresden (阿雷斯登-YW) - 类型5
- YY-Aresden (阿雷斯登-YY) - 类型6

### 埃尔文军队
- AGT-Elvine (埃尔文轻型守卫塔) - 类型36 - 防御塔
- CGT-Elvine (埃尔文重型守卫塔) - 类型37 - 防御塔
- MS-Elvine (埃尔文魔法商店) - 类型38 - 建筑
- DT-Elvine (埃尔文防御塔) - 类型39 - 防御塔
- ESG-Elvine (埃尔文能量球生成器) - 类型40 - 建筑
- GMG-Elvine (埃尔文魔法生成器) - 类型41 - 建筑
- LWB-Elvine (埃尔文轻武器锻造) - 类型43 - 建筑
- CP-Elvine (埃尔文指挥所) - 类型51 - 指挥建筑
- Sor-Elvine (埃尔文法师) - 类型82 - 法师单位
- ATK-Elvine (埃尔文攻击单位) - 类型83 - 战斗单位
- Elf-Elvine (埃尔文精灵) - 类型84 - 精灵单位
- DSK-Elvine (埃尔文-DSK) - 类型85
- HBT-Elvine (埃尔文-HBT) - 类型86
- CT-Elvine (埃尔文-CT) - 类型87
- Bar-Elvine (埃尔文-Bar) - 类型88
- AGC-Elvine (埃尔文-AGC) - 类型89
- XB-Elvine (埃尔文-XB) - 类型1
- XW-Elvine (埃尔文-XW) - 类型2
- XY-Elvine (埃尔文-XY) - 类型3
- YB-Elvine (埃尔文-YB) - 类型4
- YW-Elvine (埃尔文-YW) - 类型5
- YY-Elvine (埃尔文-YY) - 类型6

### 特殊战斗单位
- DoorGuard (门卫) - 类型100 - 守卫
- Ettin3CA (双头巨人-3CA) - 类型101 - 战斗单位
- Ettin3CE (双头巨人-3CE) - 类型101 - 战斗单位
- Demon3CA (恶魔-3CA) - 类型102 - 战斗单位
- Demon3CE (恶魔-3CE) - 类型102 - 战斗单位
- Cent3CA (半人马-3CA) - 类型103 - 战斗单位
- Cent3CE (半人马-3CE) - 类型103 - 战斗单位
- Mino3CA (牛头人-3CA) - 类型104 - 战斗单位
- Mino3CE (牛头人-3CE) - 类型104 - 战斗单位

### 其他建筑/单位
- ManaStone (魔法石) - 类型42 - 特殊建筑
- GHK (GHK) - 类型44
- GHKABS (GHKABS) - 类型45
- TK (TK) - 类型46
- BG (BG) - 类型47

## 使用说明

### GM传送命令
使用GM命令传送到NPC位置:
```
/gotonpc NPC名称
```

例如:
```
/gotonpc Gandlf         # 传送到魔法师甘道夫处学习魔法
/gotonpc Devlin         # 传送到魔法师德夫林处学习魔法
/gotonpc Tom            # 传送到铁匠处修理装备
/gotonpc Howard         # 传送到仓库管理员处存取物品
/gotonpc McGaffin       # 传送到商人处购买物品
/gotonpc Guard-Aresden  # 传送到守卫处
/gotonpc Demon          # 传送到恶魔处(怪物)
```

### 常用NPC快速查找

**我想学习魔法** → Gandlf 或 Devlin
**我想修理装备** → Tom
**我想购买物品** → ShopKeeper-W, McGaffin, Perry
**我想存储物品** → Howard
**城市管理功能** → William
**公会管理功能** → Kennedy

### 注意事项
1. NPC名称**区分大小写**,必须精确输入
2. 必须是**完整的NPC名称**,不能简写
3. 只能传送到**当前存在于游戏世界中的NPC** (在m_pNpcList中)
4. 需要**GM等级2或以上**权限
5. 部分NPC标记为??表示有特殊属性(如不可攻击)
